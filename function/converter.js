function _0x1778(_0x11ee35,_0x1cd400){_0x11ee35=_0x11ee35-0xc7;const _0xa53e9=_0xa53e();let _0x17789a=_0xa53e9[_0x11ee35];return _0x17789a;}(function(_0x34e3d7,_0x55bd33){const _0x1d710a=_0x34e3d7();while(!![]){try{const _0x2dba59=parseInt(_0x1778(0xeb))/0x1+-parseInt(_0x1778(0xd0))/0x2*(-parseInt(_0x1778(0xe4))/0x3)+-parseInt(_0x1778(0xdf))/0x4*(parseInt(_0x1778(0xef))/0x5)+parseInt(_0x1778(0xea))/0x6*(parseInt(_0x1778(0xd4))/0x7)+-parseInt(_0x1778(0xcf))/0x8*(-parseInt(_0x1778(0xdc))/0x9)+-parseInt(_0x1778(0xd5))/0xa+parseInt(_0x1778(0xe1))/0xb*(-parseInt(_0x1778(0xe9))/0xc);if(_0x2dba59===_0x55bd33)break;else _0x1d710a['push'](_0x1d710a['shift']());}catch(_0x244bbb){_0x1d710a['push'](_0x1d710a['shift']());}}}(_0xa53e,0xc64e8));import{promises}from'fs';import{join}from'path';function _0xa53e(){const _0x5eef92=['libmp3lame','530493XKzVqr','-crf','-ar','libx264','-vbr','12BlgYQs','132SDKqGm','450659RaKAfq','-c:a','message','FFmpeg\x20échoué\x20avec\x20code\x20','1585dIgjZq','-vn','-vf','unlink','__dirname','slow','ogg','48000','close','256k','7272Bharcy','6NZPHXm','44100','-b:a','128k','309603QPCmXg','16145040ZOPPAF','fps=15,scale=512:-1:flags=lanczos','-loop','96k','writeFile','Échec\x20exécution\x20FFmpeg:\x20','mp4','11061RSsCKg','mp3','-ac','488jQJLtP','gif','6664999COqXzQ','-fs'];_0xa53e=function(){return _0x5eef92;};return _0xa53e();}import{spawn}from'child_process';const AUDIO_CODEC=_0x1778(0xe3),VIDEO_CODEC=_0x1778(0xe7),OPUS_CODEC='libopus',GIF_CODEC=_0x1778(0xd6);async function writeFile(_0x48b137,_0x2551d0){try{await promises[_0x1778(0xd9)](_0x48b137,_0x2551d0);}catch(_0x15e4ad){throw new Error('Échec\x20écriture\x20fichier:\x20'+_0x15e4ad['message']);}}async function ffmpeg(_0x167967,_0x401319,_0x26c5f9,_0x57efad){try{const _0xb0a02b=join(global[_0x1778(0xc9)](import.meta.url),'../tmp',+new Date()+'.'+_0x26c5f9),_0x318337=_0xb0a02b+'.'+_0x57efad;await writeFile(_0xb0a02b,_0x167967);const _0x232c20=spawn('ffmpeg',['-y','-i',_0xb0a02b,..._0x401319,_0x318337]);await new Promise((_0x27ccbf,_0xe3988)=>{_0x232c20['on']('error',_0xe3988),_0x232c20['on'](_0x1778(0xcd),_0x389464=>{_0x389464!==0x0?_0xe3988(new Error(_0x1778(0xee)+_0x389464)):_0x27ccbf();});});const _0x217ebb=await promises['readFile'](_0x318337);return{'data':_0x217ebb,'filename':_0x318337,'delete':async()=>await promises[_0x1778(0xc8)](_0x318337)};}catch(_0x1cf0b9){throw new Error(_0x1778(0xda)+_0x1cf0b9[_0x1778(0xed)]);}}async function toAudio(_0x3627ce,_0x486c92){return ffmpeg(_0x3627ce,[_0x1778(0xf0),'-c:a',AUDIO_CODEC,_0x1778(0xd2),_0x1778(0xd3),'-ar','44100',_0x1778(0xde),'2','-f',_0x1778(0xdd)],_0x486c92,'mp3');}async function toPTT(_0x529abe,_0x51cbe1){return ffmpeg(_0x529abe,[_0x1778(0xf0),_0x1778(0xec),OPUS_CODEC,_0x1778(0xd2),_0x1778(0xd8),_0x1778(0xe8),'on',_0x1778(0xe6),_0x1778(0xcc),_0x1778(0xde),'1','-f','ogg'],_0x51cbe1,_0x1778(0xcb));}async function toGif(_0x3f0424,_0x425d76){return ffmpeg(_0x3f0424,[_0x1778(0xc7),GIF_CODEC,_0x1778(0xd7),'0',_0x1778(0xe2),_0x1778(0xce),'-c:v','gif'],_0x425d76,_0x1778(0xe0));}async function toVideo(_0x42c20c,_0x21a046){return ffmpeg(_0x42c20c,['-c:v',VIDEO_CODEC,'-c:a','aac',_0x1778(0xd2),'128k',_0x1778(0xe6),_0x1778(0xd1),_0x1778(0xe5),'32','-preset',_0x1778(0xca)],_0x21a046,_0x1778(0xdb));}export{toAudio,toPTT,toVideo,toGif,ffmpeg};